"""
í’€ì´ì‹œê°„ : 25ë¶„

<input>
numbers: ì •ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´
- 4 â‰¤ numbersì˜ ê¸¸ì´ â‰¤ 1,000,000
- 1 â‰¤ numbers[i] â‰¤ 1,000,000

<solution>
í˜„ì¬ê¹Œì§€ ë‚˜ì˜¨ ìˆ˜ë“¤ì„ ìµœì†Œí™ìœ¼ë¡œ ì €ì¥í•˜ê³ , ì´í›„ ë” í° ìˆ˜ê°€ ë‚˜ì˜¤ë©´ ë” ì‘ì€ ìˆ˜ì˜ í•´ë‹¹ ìœ„ì¹˜ë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ê¸°

<ì‹œê°„ë³µì¡ë„>
O(nlogn)

ë‹¤ í’€ê³  ë‹¤ë¥¸ ì‚¬ëŒ í’€ì´ë¥¼ ë³´ë‹ˆê¹Œ êµ³ì´ heapì„ ì¨ì¤„ í•„ìš”ê°€ ì—†ì—ˆìŒ..
stackìœ¼ë¡œ ì´ì „ ìˆ«ìì˜ ì¸ë±ìŠ¤ë§Œ ì €ì¥í•´ë‘ê³ , í˜„ì¬ ìˆ˜ê°€ ë” í´ë•Œ popí•´ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ë©´ ë˜ëŠ”ë°...ğŸ˜‚
"""
from typing import List
import heapq

def solution(numbers: List) -> List:
    n = len(numbers)
    answer = [-1] * n
    heap = [] # ìµœì†Œí™

    for i in range(n):
        cur_number = numbers[i]
        while heap and heap[0][0] < cur_number: # í˜„ì¬ í™•ì¸í•˜ê³  ìˆëŠ” ìˆ˜ ì´ì „ì— ë‚˜ì˜¨ ìˆ˜ ì¤‘ì— í˜„ì¬ ìˆ˜ë³´ë‹¤ ì‘ì€ ìˆ˜ë¥¼ ëª¨ë‘ ê°±ì‹ 
            num, idx = heapq.heappop(heap)
            answer[idx] = cur_number

        heapq.heappush(heap, (cur_number, i)) # [í˜„ì¬ í™•ì¸í•˜ê³  ìˆëŠ” ìˆ˜, ì¸ë±ìŠ¤]ë¥¼ ìµœì†Œí™ì— ì¶”ê°€

    return answer


print(solution([2, 3, 3, 5]))
print(solution([9, 1, 5, 3, 6, 2]))

"""
í…ŒìŠ¤íŠ¸ 1 ã€‰	í†µê³¼ (0.04ms, 10.1MB)
í…ŒìŠ¤íŠ¸ 2 ã€‰	í†µê³¼ (0.01ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 3 ã€‰	í†µê³¼ (0.01ms, 10.1MB)
í…ŒìŠ¤íŠ¸ 4 ã€‰	í†µê³¼ (0.08ms, 10.2MB)
í…ŒìŠ¤íŠ¸ 5 ã€‰	í†µê³¼ (0.59ms, 10.3MB)
í…ŒìŠ¤íŠ¸ 6 ã€‰	í†µê³¼ (6.51ms, 11.3MB)
í…ŒìŠ¤íŠ¸ 7 ã€‰	í†µê³¼ (6.21ms, 11.4MB)
í…ŒìŠ¤íŠ¸ 8 ã€‰	í†µê³¼ (32.56ms, 17.1MB)
í…ŒìŠ¤íŠ¸ 9 ã€‰	í†µê³¼ (30.88ms, 16.9MB)
í…ŒìŠ¤íŠ¸ 10 ã€‰	í†µê³¼ (65.20ms, 19.6MB)
í…ŒìŠ¤íŠ¸ 11 ã€‰	í†µê³¼ (65.26ms, 19.5MB)
í…ŒìŠ¤íŠ¸ 12 ã€‰	í†µê³¼ (135.81ms, 25.4MB)
í…ŒìŠ¤íŠ¸ 13 ã€‰	í†µê³¼ (135.28ms, 25.4MB)
í…ŒìŠ¤íŠ¸ 14 ã€‰	í†µê³¼ (369.68ms, 43.3MB)
í…ŒìŠ¤íŠ¸ 15 ã€‰	í†µê³¼ (880.09ms, 75.4MB)
í…ŒìŠ¤íŠ¸ 16 ã€‰	í†µê³¼ (887.28ms, 75.5MB)
í…ŒìŠ¤íŠ¸ 17 ã€‰	í†µê³¼ (904.36ms, 75.5MB)
í…ŒìŠ¤íŠ¸ 18 ã€‰	í†µê³¼ (794.01ms, 75.5MB)
í…ŒìŠ¤íŠ¸ 19 ã€‰	í†µê³¼ (751.38ms, 75.5MB)
í…ŒìŠ¤íŠ¸ 20 ã€‰	í†µê³¼ (1627.31ms, 136MB)
í…ŒìŠ¤íŠ¸ 21 ã€‰	í†µê³¼ (1341.66ms, 173MB)
í…ŒìŠ¤íŠ¸ 22 ã€‰	í†µê³¼ (1307.02ms, 70.9MB)
í…ŒìŠ¤íŠ¸ 23 ã€‰	í†µê³¼ (503.30ms, 173MB)
"""